<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sharkin Water - Contact</title>
    <link rel="stylesheet" href="/form-validation/form_validation.css">
    <link rel="icon" href="/images/logo.png" type="image/png">
</head>
<body>
    <header class="header-ss3">
        <div class="logo">
            <img src="/images/logo.png" alt="Sharkin Water Logo"> 
        </div>
        <nav class="nav-links">
            <a href="/index.html">Home</a>
        </nav>
    </header>

    <main class="page-ss3">
        <section class="hero">
            <div class="cover">
                <img src="/images/cover_ss3.jpg" alt="">
            </div>
            <h1 class="heading_1">Sharkin Water - Nhận thông tin hỗ trợ</h1>
            <div class="form-container">

                <form action="" method="POST" class="form" id="form-1">
                  <h3 class="heading">Nếu bạn có những ý kiến đóng góp hay muốn đặt câu hỏi cho chúng mình thì điền bên dưới nhé!</h3>
              
                  <div class="spacer"></div>
              
                  <div class="form-group">
                    <label for="fullname" class="form-label">Tên đầy đủ</label>
                    <input id="fullname" name="fullname" type="text" placeholder="" class="form-control">
                    <span class="form-message"></span>
                  </div>
              
                  <div class="form-group">
                    <label for="email" class="form-label">Email</label>
                    <input id="email" name="email" type="text" placeholder="email@gmail.com" class="form-control">
                    <span class="form-message"></span>
                  </div>
              
                  <div class="form-group">
                    <label for="content" class="form-label">Nội dung</label>
                    <textarea id="content" name="content" type="text" placeholder="abc" class="form-content"></textarea>
                    <span class="form-message"></span>
                  </div>
              
                  <button id="submit">Gửi</button>
                </form>
              
              </div>
        </section>  
        <script src="form_validation.js"></script>  
        <script src="https://cdn.sheetjs.com/xlsx-latest/package/xlsx.full.min.js"></script>  
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script>
            Validator({
                form: '#form-1',
                formGroupSelector: '.form-group',
                errorSelector: '.form-message',
                rules: [
                    Validator.isRequired('#fullname'),
                    Validator.isEmail('#email'),
                    Validator.isRequired('#content')
                ],
                onSubmit: function(data) {
                    
                    console.log(data);
                }
            });
        </script> 
        <script>
            document.addEventListener("DOMContentLoaded",() => {
                        const name = document.getElementById("fullname");
                        const email = document.getElementById("email");
                        const content = document.getElementById("content");
                        const submit = document.getElementById("submit");
                        submit.addEventListener("click", (e) => {
                            e.preventDefault();
                            const data = {
                                name: name.value,
                                email: email.value,
                                content: content.value,
                            };
                            postGoogle(data);
                        });
                        async function postGoogle(data){
                            const fomrURL = 
                            "https://docs.google.com/forms/d/e/1FAIpQLSdTN2UOLsC6rqfFojbGpPOUy-ow1i4Sl8nYkAZft0sS0n83ZA/formResponse";
                            const formData = new FormData();
                            formData.append("entry.1968011572", data.name);
                            formData.append("entry.1493916107", data.email);
                            formData.append("entry.368490362", data.content);
                            await fetch(fomrURL, {
                                method: "POST",
                                body: formData,
                            }
                            );
                        }
                    }
                    );
        </script>

    </main>
    <footer class="footer-ss3">
        <div class="logo">
            <img src="/images/logo.png" alt="">
        </div>
    </footer>
</body>
</html>